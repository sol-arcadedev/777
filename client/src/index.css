@import "tailwindcss";

@theme {
  --color-casino-black: #1a0f00;
  --color-casino-dark: #120a00;
  --color-casino-card: #0d5e2e;
  --color-casino-border: #2a6e3f;
  --color-casino-felt: #0d5e2e;
  --color-gold: #ffd700;
  --color-gold-dim: #daa520;
  --color-gold-bright: #ffe44d;
  --color-win-green: #00ff41;
  --color-lose-red: #ff2020;
  --color-cream: #f5e6c8;
  --color-maroon: #8b0000;
  --color-brass: #b5a642;
}

@keyframes spin-reel {
  0% { transform: translateY(0); }
  100% { transform: translateY(-100%); }
}

@keyframes reel-spin-pixel {
  0% { transform: translateY(0); }
  100% { transform: translateY(-100%); }
}

/* Multi-symbol vertical scroll — scrolls through a strip of symbols */
@keyframes reel-scroll {
  0% { transform: translateY(0); }
  100% { transform: translateY(calc(-100% + 112px)); }
}

/* Snap/bounce when reel stops */
@keyframes reel-stop {
  0% { transform: translateY(8px); }
  40% { transform: translateY(-4px); }
  70% { transform: translateY(2px); }
  100% { transform: translateY(0); }
}

/* Purple/Solana-branded glow for REFUND result */
@keyframes refund-glow-anim {
  0%, 100% { box-shadow: 0 0 8px #9945FF, 0 0 16px rgba(153,69,255,0.2); }
  50% { box-shadow: 0 0 24px #9945FF, 0 0 48px rgba(153,69,255,0.4), 0 0 80px rgba(153,69,255,0.15); }
}

/* Pulsing glow on individual refund symbol */
@keyframes refund-symbol-pulse {
  0%, 100% { text-shadow: 0 0 4px #9945FF; }
  50% { text-shadow: 0 0 12px #9945FF, 0 0 24px #14F195; }
}

@keyframes slide-up-enter {
  0% { transform: translateY(100%); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

@keyframes slide-in-left {
  0% { transform: translateX(-100%); opacity: 0; }
  100% { transform: translateX(0); opacity: 1; }
}

@keyframes glow-pulse {
  0%, 100% { box-shadow: 0 0 4px var(--color-gold-dim), inset 0 0 4px rgba(218,165,32,0.1); }
  50% { box-shadow: 0 0 12px var(--color-gold), inset 0 0 8px rgba(255,215,0,0.15); }
}

@keyframes win-glow-anim {
  0%, 100% { box-shadow: 0 0 6px var(--color-win-green); }
  50% { box-shadow: 0 0 24px var(--color-win-green), 0 0 48px rgba(0,255,65,0.3); }
}

@keyframes lose-flash-anim {
  0% { border-color: var(--color-casino-border); }
  25% { border-color: var(--color-lose-red); }
  50% { border-color: var(--color-casino-border); }
  75% { border-color: var(--color-lose-red); }
  100% { border-color: var(--color-casino-border); }
}

@keyframes pixel-flash-win {
  0%, 100% { box-shadow: 0 0 0 2px var(--color-win-green); }
  25% { box-shadow: 0 0 0 4px var(--color-win-green); }
  50% { box-shadow: 0 0 0 2px var(--color-gold); }
  75% { box-shadow: 0 0 0 4px var(--color-win-green); }
}

@keyframes bounce-in-anim {
  0% { transform: scale(0.3); opacity: 0; }
  50% { transform: scale(1.1); }
  70% { transform: scale(0.95); }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes confetti-fall {
  0% { transform: translateY(-10px) rotate(0deg); opacity: 1; }
  100% { transform: translateY(300px) rotate(720deg); opacity: 0; }
}

@keyframes lever-pull {
  0% { transform: rotate(0deg); }
  40% { transform: rotate(45deg); }
  100% { transform: rotate(0deg); }
}

@keyframes marquee-glow {
  0%, 100% { text-shadow: 0 0 4px var(--color-gold-dim), 0 0 8px rgba(255,215,0,0.3); }
  50% { text-shadow: 0 0 8px var(--color-gold), 0 0 20px rgba(255,215,0,0.5), 0 0 30px rgba(255,215,0,0.2); }
}

/* Neon pulse for spinning state */
@keyframes neon-spin-pulse {
  0%, 100% { box-shadow: 0 0 10px #00ff41, 0 0 20px rgba(0,255,65,0.3), 4px 4px 0 rgba(0,0,0,0.6); }
  50% { box-shadow: 0 0 20px #00ff41, 0 0 40px rgba(0,255,65,0.4), 0 0 60px rgba(0,255,65,0.2), 4px 4px 0 rgba(0,0,0,0.6); }
}

/* Text shimmer for header 777 */
@keyframes text-shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

/* Jackpot flash — dramatic screen flash */
@keyframes jackpot-flash {
  0%, 100% { opacity: 0; }
  10%, 30% { opacity: 0.3; }
  20% { opacity: 0; }
}

/* Pulse scale for active spin indicator */
@keyframes pulse-scale {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.05); opacity: 0.8; }
}

/* Pulsing dot indicator */
@keyframes pulse-dot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.4; transform: scale(0.7); }
}

/* Gold flash for new winner entry */
@keyframes gold-flash-in {
  0% { background: rgba(255,215,0,0.3); transform: translateX(-10px); opacity: 0; }
  30% { background: rgba(255,215,0,0.15); }
  100% { background: transparent; transform: translateX(0); opacity: 1; }
}

/* Border shimmer for info cards */
@keyframes border-shimmer {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

/* Buy button pulse */
@keyframes buy-pulse {
  0%, 100% { box-shadow: 2px 2px 0 rgba(0,0,0,0.5), 0 0 8px rgba(255,215,0,0.3); }
  50% { box-shadow: 2px 2px 0 rgba(0,0,0,0.5), 0 0 16px rgba(255,215,0,0.5), 0 0 24px rgba(255,215,0,0.2); }
}

/* Reward value pulse on update */
@keyframes reward-pulse {
  0% { transform: scale(1); text-shadow: 0 0 0 transparent; }
  50% { transform: scale(1.08); text-shadow: 0 0 12px rgba(255,215,0,0.6), 0 0 24px rgba(255,215,0,0.3); }
  100% { transform: scale(1); text-shadow: 0 0 0 transparent; }
}

/* Win amount pulse */
@keyframes win-amount-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

body {
  background-color: var(--color-casino-black);
  color: var(--color-cream);
  font-family: "Press Start 2P", cursive;
  font-size: 10px;
  line-height: 1.6;
  image-rendering: pixelated;
}

.animate-spin-reel {
  animation: reel-spin-pixel 0.15s steps(3) infinite;
}

.animate-reel-scroll {
  animation: reel-scroll 0.12s steps(3) infinite;
}

.animate-reel-stop {
  animation: reel-stop 0.3s steps(6) forwards;
}

.refund-glow {
  animation: refund-glow-anim 0.8s steps(4) infinite;
  border-color: #9945FF;
}

.animate-glow {
  animation: glow-pulse 2s steps(4) infinite;
}

/* Enhanced spinning glow — neon green pulse */
.animate-spin-glow {
  animation: neon-spin-pulse 0.8s steps(4) infinite;
}

.animate-slide-up {
  animation: slide-up-enter 0.4s steps(8) forwards;
}

.animate-slide-in-left {
  animation: slide-in-left 0.3s steps(6);
}

.win-glow {
  animation: pixel-flash-win 0.8s steps(4) infinite;
  border-color: var(--color-win-green);
}

.lose-flash {
  animation: lose-flash-anim 0.8s steps(4);
}

.animate-bounce-in {
  animation: bounce-in-anim 0.5s steps(8);
}

.animate-lever-pull {
  animation: lever-pull 0.5s steps(6) forwards;
}

.animate-marquee-glow {
  animation: marquee-glow 2s steps(4) infinite;
}

.animate-pulse-dot {
  animation: pulse-dot 1s steps(4) infinite;
}

.animate-gold-flash {
  animation: gold-flash-in 0.6s steps(8) forwards;
}

.animate-buy-pulse {
  animation: buy-pulse 2s steps(4) infinite;
}

.animate-win-amount-pulse {
  animation: win-amount-pulse 0.6s steps(6) 3;
}

.animate-reward-pulse {
  animation: reward-pulse 0.6s steps(6);
}

.confetti-particle {
  position: absolute;
  top: -8px;
  border-radius: 0;
  animation: confetti-fall 2s steps(20) forwards;
}

/* Scanline overlay for retro CRT effect */
.scanlines {
  position: relative;
}
.scanlines::after {
  content: "";
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0,0,0,0.15) 2px,
    rgba(0,0,0,0.15) 4px
  );
  pointer-events: none;
  z-index: 1;
}

/* Noise/grain texture overlay */
.noise-overlay::before {
  content: "";
  position: fixed;
  inset: 0;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 50;
}

/* ===== ANIMATED CASINO BACKGROUND ===== */

/* Diagonal light beam sweep */
@keyframes casino-light-sweep {
  0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
  100% { transform: translateX(200%) translateY(200%) rotate(45deg); }
}

/* Neon ceiling light flicker */
@keyframes neon-flicker-1 {
  0%, 100% { opacity: 0.15; }
  5% { opacity: 0.1; }
  10% { opacity: 0.18; }
  50% { opacity: 0.2; }
  55% { opacity: 0.12; }
  80% { opacity: 0.17; }
}

@keyframes neon-flicker-2 {
  0%, 100% { opacity: 0.12; }
  20% { opacity: 0.18; }
  40% { opacity: 0.08; }
  60% { opacity: 0.15; }
  85% { opacity: 0.1; }
}

/* Slow warm ambient pulse */
@keyframes warm-pulse {
  0%, 100% { opacity: 0.06; }
  50% { opacity: 0.12; }
}

/* Slot machine screen glow flicker */
@keyframes screen-glow {
  0%, 100% { opacity: 0.08; }
  25% { opacity: 0.12; }
  50% { opacity: 0.06; }
  75% { opacity: 0.1; }
}

/* Casino background container */
.casino-bg {
  position: relative;
  overflow: hidden;
}

/* Layer 1: The actual casino image — dark, covers full viewport */
.casino-bg-image {
  position: fixed;
  inset: 0;
  background: url("/casino-bg.webp") center center / cover no-repeat;
  image-rendering: pixelated;
  opacity: 0.3;
  pointer-events: none;
  z-index: 0;
  filter: saturate(1.2) brightness(0.5);
}

/* Layer 2: Dark overlay to push it further back & deepen the mood */
.casino-bg-darken {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background:
    /* Deep vignette from edges */
    radial-gradient(ellipse at center, transparent 20%, rgba(0,0,0,0.6) 80%),
    /* Top-down shadow like ceiling */
    linear-gradient(180deg, rgba(0,0,0,0.4) 0%, transparent 30%, transparent 80%, rgba(0,0,0,0.5) 100%);
}

/* Layer 3: Neon ceiling lights — teal/cyan and warm orange blobs */
.casino-bg-neons {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}
/* Teal neon glow — top left area */
.casino-neon-teal-1 {
  position: absolute;
  top: -5%;
  left: 15%;
  width: 300px;
  height: 120px;
  background: radial-gradient(ellipse, rgba(0,210,210,0.25) 0%, transparent 70%);
  filter: blur(30px);
  animation: neon-flicker-1 4s steps(6) infinite;
}
/* Teal neon glow — top right area */
.casino-neon-teal-2 {
  position: absolute;
  top: -3%;
  right: 20%;
  width: 250px;
  height: 100px;
  background: radial-gradient(ellipse, rgba(0,180,200,0.2) 0%, transparent 70%);
  filter: blur(25px);
  animation: neon-flicker-2 5s steps(6) infinite 1s;
}
/* Warm orange neon — center top */
.casino-neon-orange-1 {
  position: absolute;
  top: 0;
  left: 40%;
  width: 350px;
  height: 100px;
  background: radial-gradient(ellipse, rgba(255,140,0,0.2) 0%, transparent 70%);
  filter: blur(35px);
  animation: neon-flicker-1 6s steps(6) infinite 2s;
}
/* Red neon accent — left side */
.casino-neon-red {
  position: absolute;
  top: 30%;
  left: -2%;
  width: 150px;
  height: 300px;
  background: radial-gradient(ellipse, rgba(255,30,30,0.12) 0%, transparent 70%);
  filter: blur(25px);
  animation: neon-flicker-2 7s steps(6) infinite 3s;
}
/* Gold neon accent — right side */
.casino-neon-gold {
  position: absolute;
  top: 40%;
  right: -2%;
  width: 150px;
  height: 250px;
  background: radial-gradient(ellipse, rgba(255,200,0,0.1) 0%, transparent 70%);
  filter: blur(25px);
  animation: neon-flicker-1 5s steps(6) infinite 1.5s;
}

/* Layer 4: Sweeping light beams — like overhead casino floor lights */
.casino-bg-sweeps {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}
.casino-bg-sweeps::before {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 35%;
  height: 200%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255,180,50,0.02) 35%,
    rgba(255,200,80,0.05) 50%,
    rgba(255,180,50,0.02) 65%,
    transparent 100%
  );
  animation: casino-light-sweep 15s linear infinite;
}
.casino-bg-sweeps::after {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 25%;
  height: 200%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(0,200,200,0.015) 35%,
    rgba(0,220,220,0.04) 50%,
    rgba(0,200,200,0.015) 65%,
    transparent 100%
  );
  animation: casino-light-sweep 20s linear infinite 8s;
}

/* Layer 5: Warm ambient glow from the floor — like red carpet reflection */
.casino-bg-floor-glow {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 40%;
  pointer-events: none;
  z-index: 0;
  background: linear-gradient(0deg, rgba(139,0,0,0.15) 0%, transparent 100%);
  animation: warm-pulse 8s steps(8) infinite;
}

/* Layer 6: Faint slot machine screen glows scattered around */
.casino-bg-screens {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}
.casino-screen-glow {
  position: absolute;
  border-radius: 4px;
  filter: blur(20px);
  animation: screen-glow 3s steps(4) infinite;
}

/* Pixel border utility */
.pixel-border {
  border: 3px solid var(--color-gold-dim);
  box-shadow:
    3px 3px 0 0 rgba(0,0,0,0.5),
    inset 1px 1px 0 0 rgba(255,215,0,0.2);
}

.pixel-border-subtle {
  border: 2px solid var(--color-casino-border);
  box-shadow: 2px 2px 0 0 rgba(0,0,0,0.4);
}

/* Text shimmer class for header */
.text-shimmer {
  background: linear-gradient(
    90deg,
    #ffd700 0%,
    #ffe44d 25%,
    #fff 50%,
    #ffe44d 75%,
    #ffd700 100%
  );
  background-size: 200% auto;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: text-shimmer 3s linear infinite;
}

/* Scrollbar styling for retro feel */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: var(--color-casino-dark);
}
::-webkit-scrollbar-thumb {
  background: var(--color-gold-dim);
  border: 1px solid rgba(0,0,0,0.3);
}
::-webkit-scrollbar-thumb:hover {
  background: var(--color-gold);
}

/* Slot machine light bulbs — idle chase */
@keyframes bulb-chase {
  0%, 40% { opacity: 0.3; box-shadow: none; }
  50% { opacity: 1; box-shadow: 0 0 4px currentColor; }
  60%, 100% { opacity: 0.3; box-shadow: none; }
}

/* Slot machine light bulbs — spinning fast chase */
@keyframes bulb-spin-chase {
  0%, 30% { opacity: 0.4; box-shadow: none; }
  50% { opacity: 1; box-shadow: 0 0 6px currentColor, 0 0 10px currentColor; }
  70%, 100% { opacity: 0.4; box-shadow: none; }
}

.slot-bulb-idle {
  animation: bulb-chase 2s steps(2) infinite;
}

.slot-bulb-spinning {
  animation: bulb-spin-chase 0.4s steps(2) infinite;
}

/* Interactive hover states */
button:not(:disabled):hover, a:hover {
  filter: brightness(1.1);
}
